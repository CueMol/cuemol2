include_directories(
  ${CMAKE_SOURCE_DIR}/src
  ${CMAKE_CURRENT_SOURCE_DIR}
  ${CMAKE_BINARY_DIR}/src
  ${Boost_INCLUDE_DIRS}
  )

# Normal C++ source files
SET(SYMM_SRCS
CrystalInfo.cpp
PDBCryst1Handler.cpp
SymOpDB.cpp
UnitCellRenderer.cpp
SymmRenderer.cpp
symm.cpp
  )

##########
# CueMol interface definitions for MCWRAPGEN

SET(SYMM_MCWG_QIFS
CrystalInfo.qif
UnitCellRenderer.qif
SymmRenderer.qif
SymmOpManager.qif
  )

# module loader generated by MCWG
SET(SYMM_MODLDR_SRC symm.moddef)

MCWRAPGEN_CLASS(SYMM_SRCS ${SYMM_MCWG_QIFS})
MCWRAPGEN_MODULE(SYMM_SRCS ${SYMM_MODLDR_SRC} ${SYMM_MCWG_QIFS})

if (WIN32)
  add_definitions(-DSYMM_EXPORTS=1)
endif()

add_library(symm SHARED ${SYMM_SRCS} ${MCWG_HEADERS})
target_link_libraries(symm PRIVATE qlib gfx qsys molstr)

MCWRAPGEN_PYWRAPPERS(symm)

install(TARGETS symm
  RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
  LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
  )
