include_directories(
  ${CMAKE_SOURCE_DIR}/src
  ${CMAKE_CURRENT_SOURCE_DIR}
  ${CMAKE_BINARY_DIR}/src
  ${Boost_INCLUDE_DIRS}
  )

# Normal C++ source files
SET(SURFACE_SRCS
QdfPotReader.cpp
QdfPotWriter.cpp
QdfSurfReader.cpp
QdfSurfWriter.cpp
XYZRFileWriter.cpp
PQRFileWriter.cpp
ElePotMap.cpp
MSMSFileReader.cpp
MolSurfObj.cpp
MolSurfRenderer.cpp
OpenDXPotReader.cpp
MolSurfBuilder.cpp
DirectSurfRenderer.cpp
CutByPlane.cpp
CutByPlane2.cpp
CutByPlane2Mesh.cpp
Boundary.cpp
MolSurfEditInfo.cpp
HoleSurfBuilder.cpp
surface.cpp
BALL/COMMON/constants.cpp
BALL/COMMON/hash.cpp
BALL/DATATYPE/hashGrid.cpp
BALL/STRUCTURE/reducedSurface.cpp
BALL/STRUCTURE/RSEdge.cpp
BALL/STRUCTURE/RSFace.cpp
BALL/STRUCTURE/RSVertex.cpp
BALL/STRUCTURE/SASEdge.cpp
BALL/STRUCTURE/SASFace.cpp
BALL/STRUCTURE/SASVertex.cpp
BALL/STRUCTURE/SESEdge.cpp
BALL/STRUCTURE/SESFace.cpp
BALL/STRUCTURE/SESVertex.cpp
BALL/STRUCTURE/solventAccessibleSurface.cpp
BALL/STRUCTURE/solventExcludedSurface.cpp
BALL/STRUCTURE/triangle.cpp
BALL/STRUCTURE/triangleEdge.cpp
BALL/STRUCTURE/trianglePoint.cpp
BALL/STRUCTURE/triangulatedSAS.cpp
BALL/STRUCTURE/triangulatedSES.cpp
BALL/STRUCTURE/triangulatedSurface.cpp
edtsurf/ProteinSurface.cpp
  )

##########
# CueMol interface definitions for MCWRAPGEN

SET(SURFACE_MCWG_QIFS
  MolSurfObj.qif
  MolSurfRenderer.qif
  MSMSFileReader.qif
  ElePotMap.qif
  OpenDXPotReader.qif
  DirectSurfRenderer.qif
  XYZRFileWriter.qif
  PQRFileWriter.qif
  HoleSurfBuilder.qif
  )

# module loader generated by MCWG
SET(SURFACE_MODLDR_SRC surface.moddef)

MCWRAPGEN_CLASS(SURFACE_SRCS ${SURFACE_MCWG_QIFS})
MCWRAPGEN_MODULE(SURFACE_SRCS ${SURFACE_MODLDR_SRC} ${SURFACE_MCWG_QIFS})

if (WIN32)
  add_definitions(-DSURFACE_EXPORTS=1)
endif()

add_library(surface SHARED ${SURFACE_SRCS})
target_link_libraries(surface PRIVATE qlib gfx qsys molstr CGAL::CGAL)

add_custom_target(surface_generate_headers DEPENDS ${MCWG_HEADERS})
add_dependencies(surface surface_generate_headers)
