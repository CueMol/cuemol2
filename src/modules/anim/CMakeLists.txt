include_directories(
  ${CMAKE_SOURCE_DIR}/src
  ${CMAKE_CURRENT_SOURCE_DIR}
  ${CMAKE_BINARY_DIR}/src
  ${Boost_INCLUDE_DIRS}
  )

# Normal C++ source files
SET(ANIM_SRCS
anim.cpp
CamMotion.cpp
SimpleSpin.cpp
RendPropAnim.cpp
RealPropAnim.cpp
RendXformAnim.cpp
NoopAnimObj.cpp
MolAnim.cpp
MorphMol.cpp
ShowHideAnim.cpp
SlideInOutAnim.cpp
  )

##########
# CueMol interface definitions for MCWRAPGEN

SET(ANIM_MCWG_QIFS
CamMotion.qif
SimpleSpin.qif
RealPropAnim.qif
RendXformAnim.qif
NoopAnimObj.qif
MolAnim.qif
MorphMol.qif
ShowHideAnim.qif
SlideInOutAnim.qif
  )

# module loader generated by MCWG
SET(ANIM_MODLDR_SRC anim.moddef)

MCWRAPGEN_CLASS(ANIM_SRCS ${ANIM_MCWG_QIFS})
MCWRAPGEN_MODULE(ANIM_SRCS ${ANIM_MODLDR_SRC} ${ANIM_MCWG_QIFS})

if (WIN32)
  add_definitions(-DANIM_EXPORTS=1)
endif()

add_library(anim SHARED ${ANIM_SRCS})
target_link_libraries(anim PRIVATE qlib gfx qsys molstr Boost::filesystem Boost::thread)

add_custom_target(anim_generate_headers DEPENDS ${MCWG_HEADERS})
add_dependencies(anim anim_generate_headers)
