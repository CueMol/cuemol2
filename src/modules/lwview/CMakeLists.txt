include_directories(
  ${CMAKE_SOURCE_DIR}/src
  ${CMAKE_CURRENT_SOURCE_DIR}
  ${CMAKE_BINARY_DIR}/src
  ${Boost_INCLUDE_DIRS}
  )

# Normal C++ source files
SET(LWVIEW_SRCS
lwview.cpp
LWObject.cpp
LWRenderer.cpp
LWViewerManager.cpp
QdfLWObjReader.cpp
LWRendDisplayContext.cpp
QdfLWObjWriter.cpp
)

##########
# CueMol interface definitions for MCWRAPGEN

SET(LWVIEW_MCWG_QIFS
LWObject.qif
LWRenderer.qif
LWViewerManager.qif
  )

# module loader generated by MCWG
SET(LWVIEW_MODLDR_SRC lwview.moddef)

MCWRAPGEN_CLASS(LWVIEW_SRCS ${LWVIEW_MCWG_QIFS})
MCWRAPGEN_MODULE(LWVIEW_SRCS ${LWVIEW_MODLDR_SRC} ${LWVIEW_MCWG_QIFS})

if (WIN32)
  add_definitions(-DLWVIEW_EXPORTS=1)
endif()

add_library(lwview SHARED ${LWVIEW_SRCS})
target_link_libraries(lwview PRIVATE qlib gfx qsys molstr render)

add_custom_target(lwview_generate_headers DEPENDS ${MCWG_HEADERS})
add_dependencies(lwview lwview_generate_headers)
