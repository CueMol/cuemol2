// -*-Mode: C++;-*-
//
// Generate/Render the contour surface of ScalarObject (ver.2)
//

#ifndef MAPSURF2_RENDERER_QIF_INCLUDED
#define MAPSURF2_RENDERER_QIF_INCLUDED

#include "MapRenderer.qif"
#include <modules/molstr/SelCommand.qif>

runtime_class MapSurf2Renderer extends MapRenderer
{
  client_hdr "MapSurf2Renderer.hpp";
  client_name xtal::MapSurf2Renderer;

  scriptable;
  smartptr;
  cloneable;

  /// Automatically update the map center as view center (only in mouseUp event)
  property boolean autoupdate => m_bAutoUpdate;
  default autoupdate = true;

  /// Automatically update (including mouse drag event)
  property boolean dragupdate => m_bDragUpdate;
  default dragupdate = false;

  property boolean cullface => redirect(isCullFace, setCullFace);
  default cullface = false;

  /// Mesh drawing mode
  enumdef drawmode {
    fill = xtal::MapSurf2Renderer::MSRDRAW_FILL;
    line = xtal::MapSurf2Renderer::MSRDRAW_LINE;
    point = xtal::MapSurf2Renderer::MSRDRAW_POINT;
  }
  property enum drawmode => redirect(getDrawMode, setDrawMode);
  default drawmode = "fill";

  /// Line/Dot size in wireframe/dot mode
  property real width => redirect(getLineWidth, setLineWidth);
  default width = 1.2;

  /// Binning factor
  property integer binning => redirect(getBinFac, setBinFac);
  default binning = 1;

  /// Max grid size (in grid unit; default=100x100x100 grid)
  property real max_grids => redirect(getMaxGrids, setMaxGrids);
  default max_grids = 100;

  /// Max extent (in angstrom unit)
  property real maxExtent => redirect(getMaxExtent, XXX) (readonly);

  /// Convert to MolSurfObj
  object<Object$> generateSurfObj();

  //////////

  property integer omp_thr => redirect(getOmpThr, setOmpThr);
  default omp_thr = -1;

};

#endif

